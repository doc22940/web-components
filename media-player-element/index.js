var MediaPlayerElement=function(){var e=["autoplay","height","loop","poster","src","volume","width"];function t(e,t){const n=null==e?document.createDocumentFragment():e===Object(e)?e:document.createElement(e);for(const e in t)e in n?n[e]=t[e]:null===t[e]&&n.removeAttribute?n.removeAttribute(e):n.setAttribute&&n.setAttribute(e,t[e]);return n.append&&n.append(...Array.prototype.slice.call(arguments,2)),n}function n(e){const n=t(document.createElementNS(l,"svg"),{class:"media-symbol media-"+e+"-symbol",role:"presentation"},t(document.createElementNS(l,"path"),{d:o[e]}));return n.setAttribute("viewBox","0 0 32 32"),n}const l="http://www.w3.org/2000/svg",o={download:"M20 2v12h4l-8 10-8-10h4V2M0 21h5v6h22v-6h5v11H0",enterFullscreen:"M0 0h12L8 4l6 6-4 4-6-6-4 4M32 0H20l4 4-6 6 4 4 6-6 4 4M0 32V20l4 4 6-6 4 4-6 6 4 4m20 0V20l-4 4-6-6-4 4 6 6-4 4",leaveFullscreen:"M0 4l4-4 6 6 4-4v12H2l4-4m26-6l-4-4-6 6-4-4v12h12l-4-4M0 28l4 4 6-6 4 4V18H2l4 4m26 6l-4 4-6-6-4 4V18h12l-4 4",mute:"M0 11h6l10-8.5v27L6 21H0M22 6l10 10-10 10",pause:"M4 0h9v32H4M28 0h-9v32h9",play:"M4 0l24 16L4 32",unmute:"M0 11h6l10-8.5v27L6 21H0"};var a=":host{--player-enter-color:rgba(153,153,255,0.25);--player-back-fullscreen-color:rgba(0,0,0,0.75);--player-fill-fullscreen-color:#fff;--player-range-color:#ccc;--player-meter-color:#08d;display:block;font:300 100%/1.5 Helvetica Neue,sans-serif}.media-toolbar{align-items:center;cursor:default;direction:ltr;display:flex;flex-wrap:wrap}:host(:-webkit-full-screen) .media-toolbar{background-color:var(--player-back-fullscreen-color);color:var(--player-fill-fullscreen-color);bottom:0;left:0;right:0;opacity:.8;position:absolute}:host(:fullscreen) .media-toolbar{background-color:var(--player-back-fullscreen-color);color:var(--player-fill-fullscreen-color);bottom:0;left:0;right:0;opacity:.8;position:absolute}.media-hidden{display:none}.media-frame{position:relative}.media-frame iframe{height:100%;top:0;right:0;bottom:0;left:0;position:absolute;width:100%}.media-media{background-color:#000;display:block;margin-left:auto;margin-right:auto;position:relative;width:100%}.media-media.audio{display:none}:host(:-webkit-full-screen) .media-media{height:100vh;width:100vw}:host(:fullscreen) .media-media{height:100vh;width:100vw}.media-control,.media-slider{background-color:initial;border-style:none;color:inherit;font:inherit;margin:0;overflow:visible;padding:0;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none}.media-slider{height:2.5em;padding:.625em .5em}.media-slider:focus{background-color:var(--player-enter-color)}.media-time{flex-grow:1;flex-shrink:1}.media-volume{flex-basis:5em}.media-range{background-color:var(--player-range-color);display:block;font-size:75%;height:1em;width:100%}.media-meter{background-color:var(--player-meter-color);display:block;height:100%;overflow:hidden;width:100%}.media-text{font-size:75%;padding-left:.5em;padding-right:.5em;white-space:nowrap;width:2.5em}.media-control{font-size:75%;line-height:1;padding:1.16667em;text-decoration:none}.media-control:focus,.media-control:hover{background-color:var(--player-enter-color)}.media-symbol{display:block;fill:currentColor;height:1em;width:1em}.media-symbol[hidden=true]{display:none}";function i(e){const n="onfullscreenchange"in e.self?"fullscreenchange":"onwebkitfullscreenchange"in e.self?"webkitfullscreenchange":"onMSFullscreenChange"in e.self?"MSFullscreenChange":"fullscreenchange",l=e.self.requestFullscreen||e.self.webkitRequestFullscreen||e.self.msRequestFullscreen,o=()=>e.self.ownerDocument.fullscreenElement||e.self.ownerDocument.webkitFullscreenElement||e.self.ownerDocument.msFullscreenElement;e.onPlayClick=(()=>{e.videoElement[e.videoElement.paused?"play":"pause"]()}),e.onTimeClick=(t=>{t.pointerType||t.detail||e.onPlayClick(t)}),e.onMuteClick=(()=>{e.videoElement.muted=!e.videoElement.muted}),e.onVolumeClick=(t=>{t.pointerType||t.detail||e.onMuteClick(t)}),e.onDownloadClick=(()=>{const n=e.root.appendChild(t("a",{download:"",href:e.videoElement.src}));n.click(),e.root.removeChild(n)}),e.onFullscreenClick=(()=>{l?e.self===o()?(()=>(e.self.ownerDocument.exitFullscreen||e.self.ownerDocument.webkitCancelFullScreen||e.self.ownerDocument.msExitFullscreen).call(e.self.ownerDocument))():l.call(e.self):e.videoElement.webkitSupportsFullscreen&&(e.videoElement.webkitDisplayingFullscreen?e.videoElement.webkitExitFullscreen():e.videoElement.webkitEnterFullscreen(),e.onFullscreenChange())}),e.onTimeKeydown=(t=>{const{keyCode:n,shiftKey:l}=t;if(37<=n&&40>=n){t.preventDefault();const o=/^(btt|ltr)$/.test(e.timeDir),a=37===n||39===n?n-38:n-39;e.videoElement.currentTime=Math.max(0,Math.min(e.duration,e.currentTime+a*(o?1:-1)*(l?10:1))),e.onTimeChange()}}),e.onVolumeKeydown=(t=>{const{keyCode:n,shiftKey:l}=t;if(37<=n&&40>=n){t.preventDefault();const o=/^(btt|ltr)$/.test(e.volumeDir),a=37===n||39===n?n-38:o?39-n:n-39;e.videoElement.volume=Math.max(0,Math.min(1,e.videoElement.volume+a*(o?.1:-.1)*(l?1:.2)))}}),e.onPlayChange=(n=>{e.paused!==e.videoElement.paused&&(e.paused=e.videoElement.paused,t(e.playButton,{"aria-label":e.paused?e.super.lang.play:e.super.lang.pause}),t(e.playSymbol,{hidden:!e.paused}),t(e.pauseSymbol,{hidden:e.paused}),clearInterval(e.interval),e.paused||(e.interval=setInterval(e.onTimeChange,34)),e.self.dispatchEvent(new CustomEvent("playchange")),n&&e.self.dispatchEvent(s(n)))}),e.onTimeChange=(n=>{if(e.currentTime!==e.videoElement.currentTime||e.duration!==e.videoElement.duration){e.currentTime=e.videoElement.currentTime,e.duration=e.videoElement.duration||0;const l=e.currentTime/e.duration,o=m(e.currentTime),a=m(e.duration-Math.floor(e.currentTime));o!==e.currentTimeText.nodeValue&&(e.currentTimeText.nodeValue=o,t(e.currentTimeSpan,{title:""+u(e.currentTime,e.super.lang.minutes,e.super.lang.seconds)})),a!==e.remainingTimeText.nodeValue&&(e.remainingTimeText.nodeValue=a,t(e.remainingTimeSpan,{title:""+u(e.duration-e.currentTime,e.super.lang.minutes,e.super.lang.seconds)})),t(e.timeButton,{"aria-valuenow":e.currentTime,"aria-valuemin":0,"aria-valuemax":e.duration});const i=/^(ltr|rtl)$/i.test(e.timeDir)?"width":"height";e.timeMeter.style[i]=100*l+"%";const r=e.videoElement.poster||e.videoElement.videoWidth?"video":"audio";e.mediaType!==r&&(e.mediaType&&e.videoElement.classList.remove(e.mediaType),e.mediaType=r,e.videoElement.classList.add(r)),n&&e.self.dispatchEvent(s(n)),e.self.dispatchEvent(new CustomEvent("timechange"))}}),e.onLoadStart=(n=>{t(e.videoElement,{oncanplaythrough:e.onCanPlayStart}),e.onPlayChange(),e.onVolumeChange(),e.onFullscreenChange(),e.onTimeChange(),n&&e.self.dispatchEvent(s(n))}),e.onCanPlayStart=(n=>{t(e.videoElement,{oncanplaythrough:e.onCanPlayStart}),e.self.dispatchEvent(new CustomEvent("canplaystart")),e.videoElement.paused&&!e.videoElement.autoplay||e.videoElement.play(),n&&e.self.dispatchEvent(s(n))}),e.onVolumeChange=(n=>{const l=e.videoElement.muted?0:e.videoElement.volume,o=!l;t(e.volumeButton,{"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":1});const a=/^(ltr|rtl)$/i.test(e.volumeDir)?"width":"height";e.volumeMeter.style[a]=100*l+"%",t(e.muteButton,{"aria-label":o?e.super.lang.unmute:e.super.lang.mute}),t(e.muteSymbol,{hidden:o}),t(e.unmuteSymbol,{hidden:!o}),n&&e.self.dispatchEvent(s(n))}),e.onFullscreenChange=(()=>{const n=e.self===o();t(e.fullscreenButton,{"aria-label":n?e.super.lang.leaveFullscreen:e.super.lang.enterFullscreen}),t(e.enterFullscreenSymbol,{hidden:n}),t(e.leaveFullscreenSymbol,{hidden:!n})}),t(e.videoElement,{oncanplaythrough:e.onCanPlayStart,onloadedmetadata:e.onTimeChange,onloadstart:e.onLoadStart,onpause:e.onPlayChange,onplay:e.onPlayChange,ontimeupdate:e.onTimeChange,onvolumechange:e.onVolumeChange}),t(e.playButton,{onclick:e.onPlayClick,onkeydown:e.onTimeKeydown}),t(e.timeButton,{onclick:e.onTimeClick,onkeydown:e.onTimeKeydown}),t(e.muteButton,{onclick:e.onMuteClick,onkeydown:e.onVolumeKeydown}),t(e.volumeButton,{onclick:e.onVolumeClick,onkeydown:e.onVolumeKeydown}),t(e.downloadButton,{onclick:e.onDownloadClick}),t(e.fullscreenButton,{onclick:e.onFullscreenClick}),r(e.timeButton,e.timeRange,e.timeDir,t=>{e.videoElement.currentTime=e.duration*Math.max(0,Math.min(1,t)),e.onTimeChange()}),r(e.volumeButton,e.volumeRange,e.volumeDir,t=>{e.videoElement.volume=Math.max(0,Math.min(1,t))}),e.self.ownerDocument.addEventListener(n,e.onFullscreenChange),e.onLoadStart()}function r(e,t,n,l){const o=void 0!==e.onpointerup,a=void 0!==e.ontouchstart,i=o?"pointerdown":a?"touchstart":"mousedown",r=o?"pointermove":a?"touchmove":"mousemove",m=o?"pointerup":a?"touchend":"mouseup",u=/^(ltr|rtl)$/i.test(n),s=/^(ltr|ttb)$/i.test(n),d=u?"clientX":"clientY";let c,p,h;function v(e){e.preventDefault();const t=d in e?e[d]:e.touches&&e.touches[0]&&e.touches[0][d]||0;l((s?t-p:h-t)/(h-p))}function y(){c.removeEventListener(r,v),c.removeEventListener(m,y)}e.addEventListener(i,function(n){c=e.ownerDocument.defaultView;const l=t.getBoundingClientRect();p=u?l.left:l.top,h=u?l.right:l.bottom,v(n),c.addEventListener(r,v),c.addEventListener(m,y)})}function m(e){return("0"+Math.floor(e/60)).slice(-2)+":"+("0"+Math.floor(e%60)).slice(-2)}function u(e,t,n){return Math.floor(e/60)+" "+t+", "+Math.floor(e%60)+" "+n}function s(e){return Object.assign(new e.constructor(e.type,e),{relatedTarget:e.target})}class d extends HTMLElement{constructor(){super();const e=this.__INTERNALS={root:this.attachShadow({mode:"closed"}),self:this,super:d,mediaType:"audio",timeDir:"ltr",volumeDir:"ltr"};!function(e){e.styleElement=t("style",null,a),e.videoElement=t("video",{class:"media-media audio"}),e.playSymbol=n("play"),e.pauseSymbol=n("pause"),e.playButton=t("button",{class:"media-control media-play"},e.playSymbol,e.pauseSymbol),e.timeMeter=t("span",{class:"media-meter media-time-meter"}),e.timeRange=t("span",{class:"media-range media-time-range"},e.timeMeter),e.timeButton=t("button",{class:"media-slider media-time",role:"slider","aria-label":e.super.lang.currentTime,"data-dir":e.timeDir},e.timeRange),e.currentTimeSpan=t("span",{class:"media-text media-current-time",role:"timer","aria-label":e.super.lang.currentTime},""),e.currentTimeText=e.currentTimeSpan.lastChild,e.remainingTimeSpan=t("span",{class:"media-text media-remaining-time",role:"timer","aria-label":e.super.lang.remainingTime},""),e.remainingTimeText=e.remainingTimeSpan.lastChild,e.muteSymbol=n("mute"),e.unmuteSymbol=n("unmute"),e.muteButton=t("button",{class:"media-control media-mute"},e.muteSymbol,e.unmuteSymbol),e.volumeMeter=t("span",{class:"media-meter media-volume-meter"}),e.volumeRange=t("span",{class:"media-range media-volume-range"},e.volumeMeter),e.volumeButton=t("button",{class:"media-slider media-volume",role:"slider","aria-label":e.super.lang.volume,"data-dir":e.volumeDir},e.volumeRange),e.downloadSymbol=n("download"),e.downloadButton=t("button",{class:"media-control media-download","aria-label":e.super.lang.download},e.downloadSymbol),e.enterFullscreenSymbol=n("enterFullscreen"),e.leaveFullscreenSymbol=n("leaveFullscreen"),e.fullscreenButton=t("button",{class:"media-control media-fullscreen"},e.enterFullscreenSymbol,e.leaveFullscreenSymbol),e.toolbarElement=t("div",{class:"media-toolbar",role:"toolbar","aria-label":e.super.lang.player},e.playButton,e.muteButton,e.volumeButton,e.currentTimeSpan,e.timeButton,e.remainingTimeSpan,e.downloadButton,e.fullscreenButton),e.playerElement=t("div",{class:"media-player",role:"region","aria-label":e.super.lang.player},e.styleElement,e.videoElement,e.toolbarElement),e.root.append(e.playerElement)}(e),i(e)}attributeChangedCallback(t,n,l){n!==l&&("volume"===t?this.__INTERNALS.videoElement.volume=+l:e.includes(t)&&this.__INTERNALS.videoElement.setAttribute(t,l))}static get observedAttributes(){return e}}return d.lang={currentTime:"current time",download:"download",enterFullscreen:"enter full screen",leaveFullscreen:"leave full screen",minutes:"minutes",mute:"mute",play:"play",player:"media player",pause:"pause",remainingTime:"remaining time",seconds:"seconds",unmute:"unmute",volume:"volume"},["autoplay","height","loop","play","playbackRate","poster","src","volume","width"].forEach(e=>{Object.defineProperty(d.prototype,e,{get(){return"function"==typeof this.__INTERNALS.videoElement[e]?this.__INTERNALS.videoElement[e].bind(this.__INTERNALS.videoElement):this.__INTERNALS.videoElement[e]},set(t){this.__INTERNALS.videoElement[e]=t}})}),customElements.define("media-player",d),d}();
